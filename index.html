<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Science Quiz Game</title>
  <link rel="stylesheet" href="style.css" />
  </head>
<body>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      background: #f0f0f0;
    }
    #intro {
      position: fixed;
      inset: 0;
      background: #007BFF;
      color: white;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 999;
      animation: fadeIn 1.5s;
    }
    #quiz, #shop-container, #timer, #streakDisplay, #abilities, #levelComplete, #levelSelect {
      display: none;
    }
    #quiz {
      max-width: 600px;
      margin: 80px auto;
      padding: 20px;
      background: white;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      position: relative;
    }
    .option {
      background: #e0e0e0;
      padding: 10px;
      margin: 8px 0;
      border-radius: 5px;
      cursor: pointer;
    }
    .option:hover {
      background: #ccc;
    }
    #submit {
      margin-top: 10px;
      padding: 10px 20px;
      background: #28a745;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      display: none;
    }
    #feedback {
      margin-top: 10px;
      font-weight: bold;
    }
    #shop-container {
      position: fixed;
      top: 10px;
      left: 10px;
      background: #ffc107;
      padding: 10px;
      border-radius: 6px;
    }
    #timer {
      position: fixed;
      top: 10px;
      right: 10px;
      background: #dc3545;
      color: white;
      padding: 10px;
      border-radius: 5px;
      font-weight: bold;
    }
    #streakDisplay {
      position: fixed;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      background: #fff3cd;
      color: #333;
      padding: 6px 12px;
      border-radius: 6px;
      font-weight: bold;
      z-index: 8;
    }
    #gameOver, #levelComplete {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.9);
      color: white;
      font-size: 2rem;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      z-index: 1000;
      animation: fadeIn 1s;
    }
    #abilities {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: white;
      border: 2px solid #ccc;
      padding: 10px;
      border-radius: 10px;
      display: flex;
      gap: 10px;
      z-index: 9;
    }
    .ability, .navBtn {
      padding: 8px 12px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      background: #007BFF;
      color: white;
    }
    .ability:hover, .navBtn:hover {
      background: #0056b3;
    }
    #levelSelect {
      position: fixed;
      inset: 0;
      background: #007BFF;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      gap: 10px;
      z-index: 1000;
    }
    @keyframes fadeIn {
      from {opacity: 0;}
      to {opacity: 1;}
    }
  </style>
</head>
<body>
  <div id="intro">
    <h1>Welcome Science Masters!</h1>
    <button id="levelSelectBtn">Choose Level</button>
  </div>

  <div id="levelSelect">
    <h2>Select a Level</h2>
    <button class="navBtn" onclick="startQuiz(0)">Easy</button>
    <button class="navBtn" onclick="startQuiz(1)">Medium</button>
    <button class="navBtn" onclick="startQuiz(2)">Hard</button>
    <button class="navBtn" onclick="startQuiz(3)">Extreme</button>
  </div>

  <div id="levelComplete">
    <p>✅ Level Completed!</p>
    <button class="navBtn" id="nextLevelBtn">Next Level</button>
    <button class="navBtn" onclick="window.location.reload()">Exit to Home</button>
  </div>

  <div id="gameOver">🛑 Game Over! Time's up.</div>
  <div id="shop-container">💡 Bulbs: <span id="bulbCount">0</span></div>
  <div id="timer">15</div>
  <div id="streakDisplay">Streak: 0</div>

  <div id="quiz">
    <div id="scoreDisplay">Score: 0</div>
    <div class="question" id="questionText"></div>
    <div id="options"></div>
    <button id="submit">Submit</button>
    <div id="feedback"></div>
  </div>

  <div id="abilities">
    <button class="ability" id="fiftyBtn">50:50 (10)</button>
    <button class="ability" id="hintBtn">Hint (15)</button>
    <button class="ability" id="skipBtn">🚌 Skip (35)</button>
  </div>

<script>
  // Keep your existing JavaScript code
  // Replace startBtn logic with:
  document.getElementById("levelSelectBtn").onclick = () => {
    document.getElementById("intro").style.display = 'none';
    document.getElementById("levelSelect").style.display = 'flex';
  };

  function startQuiz(levelIndex) {
    lvl = levelIndex;
    qIdx = 0;
    score = 0;
    bulbs = 0;
    streak = 0;
    document.getElementById("levelSelect").style.display = 'none';
    document.getElementById("quiz").style.display = 'block';
    document.getElementById("shop-container").style.display = 'block';
    document.getElementById("timer").style.display = 'block';
    document.getElementById("streakDisplay").style.display = 'block';
    updateDisplay();
    showQuestion();
  }

  // Modify your submitBtn onclick logic:
  submitBtn.onclick = () => {
    clearInterval(timer);
    const correct = allLevelsPool[lvl].questions[qIdx].a;
    if (selected === correct) {
      feedback.textContent = "✅ Correct!";
      score += 10;
      bulbs += 5;
      streak++;
    } else {
      feedback.textContent = `❌ Wrong! Answer: ${correct}`;
      streak = 0;
    }
    updateDisplay();
    qIdx++;
    if (qIdx >= allLevelsPool[lvl].questions.length) {
      if (lvl + 1 < allLevelsPool.length) {
        document.getElementById("quiz").style.display = 'none';
        document.getElementById("levelComplete").style.display = 'flex';
        document.getElementById("nextLevelBtn").onclick = () => {
          lvl++;
          qIdx = 0;
          document.getElementById("levelComplete").style.display = 'none';
          document.getElementById("quiz").style.display = 'block';
          updateDisplay();
          showQuestion();
        };
        return;
      } else {
        feedback.textContent += " 🎉 Quiz Complete!";
        return;
      }
    }
    setTimeout(showQuestion, 1500);
  };
</script>
</body>
</html>
